{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { AlunoModel } from \"../AlunoModel\";\nimport * as Animatable from 'react-native-animatable';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from \"../../../contexts/auth\";\nimport { db } from \"../../../BancoNoSql/conexaoFirebase\";\nimport { ref, set, onValue } from 'firebase/database';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function InserirAluno(_ref) {\n  var route = _ref.route;\n  var cont = 0;\n  var navigation = useNavigation();\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user;\n\n  var _useState = useState(user.userId + '/'),\n      _useState2 = _slicedToArray(_useState, 2),\n      userId = _useState2[0],\n      setUserId = _useState2[1];\n\n  var _useState3 = useState(route.params.nomeGrupo + '/'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      nomeGrupo = _useState4[0],\n      setNomeGrupo = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      contador = _useState6[0],\n      setContador = _useState6[1];\n\n  var _useState7 = useState('aluno'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      aluno = _useState8[0],\n      setAluno = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      nome = _useState10[0],\n      setNome = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      idade = _useState12[0],\n      setIdade = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      nomeRecebido = _useState14[0],\n      setNomeRecebido = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dataAlunos = _useState16[0],\n      setDataAlunos = _useState16[1];\n\n  var dataFire = [{\n    nome: \"hugo\",\n    idade: '2'\n  }, {\n    nome: \"kathelly\",\n    idade: '3'\n  }];\n  useEffect(function () {\n    var myDoc = ref(db, userId + nomeGrupo);\n    onValue(myDoc, function (snapshot) {\n      var data = snapshot.val();\n      setDataAlunos(data);\n      var dat = [];\n      dataAlunos.forEach(function (item) {\n        dat.push(item.nome);\n      });\n      console.log(\"data: \" + dataAlunos);\n      console.log(\"dat: \" + dat);\n    });\n  }, []);\n\n  function setarAlunoEmGrupo() {\n    setContador(contador + 1);\n    console.log(\"contador: \" + contador);\n    cont = contador;\n    var alunoVal = aluno + cont + '/';\n    console.log(alunoVal);\n    set(ref(db, userId + nomeGrupo + alunoVal), {\n      nome: nome,\n      idade: idade\n    }).then(function () {\n      alert(\"deu certo!\");\n    }).catch(function (error) {\n      alert(error.message);\n      alert(\"falhou\");\n    });\n  }\n\n  var Read = function Read() {\n    var myDoc = ref(db, userId + nomeGrupo);\n    onValue(myDoc, function (snapshot) {\n      var data = snapshot.val();\n      setNomeRecebido(data.nome);\n      var valor = data;\n      var al = 'aluno0/';\n      console.log(\"estado: \" + nomeRecebido);\n      console.log(\"let: \" + valor.aluno0.nome);\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Animatable.View, {\n      animation: \"fadeInLeft\",\n      style: styles.viewTitle,\n      children: _jsx(Text, {\n        style: styles.title,\n        children: \"Criar Grupo\"\n      })\n    }), _jsx(View, {\n      style: styles.viewInput,\n      children: _jsx(TextInput, {\n        placeholder: \"Digite o nome do Aluno\",\n        style: styles.input,\n        value: nome,\n        onChangeText: function onChangeText(value) {\n          return setNome(value);\n        }\n      })\n    }), _jsxs(View, {\n      style: styles.viewInput2,\n      children: [_jsx(TextInput, {\n        placeholder: \"Idade\",\n        style: styles.input2,\n        value: idade,\n        onChangeText: function onChangeText(value) {\n          return setIdade(value);\n        }\n      }), _jsx(TouchableOpacity, {\n        style: styles.btnAdd,\n        onPress: function onPress() {\n          return Read();\n        },\n        children: _jsx(Text, {\n          style: styles.btnAddTxt,\n          children: \"Adicionar\"\n        })\n      })]\n    }), _jsx(Text, {\n      style: styles.alunosCad,\n      children: \"Alunos Cadastrados\"\n    }), _jsx(Animatable.View, {\n      animation: \"zoomIn\",\n      style: styles.viewRodape,\n      children: _jsxs(View, {\n        children: [_jsxs(View, {\n          style: {\n            flexDirection: 'row'\n          },\n          children: [_jsx(Text, {\n            style: {\n              marginLeft: \"3%\",\n              fontSize: 18,\n              fontWeight: 'bold',\n              width: \"70%\",\n              borderBottomWidth: 1\n            },\n            children: \"Nome\"\n          }), _jsx(Text, {\n            style: {\n              marginLeft: \"3%\",\n              fontSize: 18,\n              fontWeight: 'bold',\n              width: \"20%\",\n              borderBottomWidth: 1\n            },\n            children: \"Idade\"\n          })]\n        }), _jsx(FlatList, {\n          data: dataFire,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return _jsxs(View, {\n              style: {\n                flexDirection: 'row',\n                justifyContent: 'space-between'\n              },\n              children: [_jsx(Text, {\n                style: {\n                  marginLeft: '3%',\n                  marginTop: 5,\n                  fontSize: 16\n                },\n                children: item.nome\n              }), _jsx(Text, {\n                style: {\n                  marginRight: '14%',\n                  marginTop: 5,\n                  fontSize: 17,\n                  fontWeight: 'bold'\n                },\n                children: item.idade\n              })]\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item.nome;\n          }\n        })]\n      })\n    }), _jsx(Animatable.View, {\n      animation: \"lightSpeedIn\",\n      style: styles.viewBtnFinalizar,\n      children: _jsx(TouchableOpacity, {\n        style: styles.btnFinalizar,\n        onPress: function onPress() {\n          return navigation.navigate('PainelControle');\n        },\n        children: _jsx(Text, {\n          style: styles.btnFinalizarTxt,\n          children: \"Finalizar\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#38a69d'\n  },\n  viewInput: {\n    marginTop: '-20%',\n    alignItems: 'center'\n  },\n  viewInput2: {\n    marginLeft: '13%',\n    marginTop: 10,\n    flexDirection: 'row'\n  },\n  input: {\n    borderBottomWidth: 1,\n    borderBottomColor: '#fff',\n    width: '75%',\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  input2: {\n    borderBottomWidth: 1,\n    borderBottomColor: '#fff',\n    width: '20%',\n    marginBottom: 5,\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  btnAdd: {\n    backgroundColor: '#fff',\n    width: '50%',\n    height: 40,\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 50,\n    marginTop: 10\n  },\n  btnAddTxt: {\n    fontSize: 18,\n    color: '#38a69d',\n    fontWeight: 'bold'\n  },\n  viewTitle: {\n    flex: 1,\n    marginTop: '10%',\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#fff'\n  },\n  viewRodape: {\n    flex: 2,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    margin: '5%'\n  },\n  viewBtnFinalizar: {\n    marginTop: 5,\n    marginBottom: '10%',\n    alignItems: 'center'\n  },\n  btnFinalizar: {\n    backgroundColor: '#fff',\n    width: '75%',\n    height: 40,\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  btnFinalizarTxt: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#38a69d'\n  },\n  alunosCad: {\n    textAlign: 'center',\n    marginTop: '5%',\n    marginBottom: -15,\n    fontSize: 16,\n    color: '#fff',\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["C:/Users/Usu√°rio/Documents/megak/TCCreact-native/DiscalculiaHelper/src/pages/Aluno/InserirAluno/index.js"],"names":["React","useContext","useState","useEffect","AlunoModel","Animatable","useNavigation","AuthContext","db","ref","set","onValue","InserirAluno","route","cont","navigation","user","userId","setUserId","params","nomeGrupo","setNomeGrupo","contador","setContador","aluno","setAluno","nome","setNome","idade","setIdade","nomeRecebido","setNomeRecebido","dataAlunos","setDataAlunos","dataFire","myDoc","snapshot","data","val","dat","forEach","item","push","console","log","setarAlunoEmGrupo","alunoVal","then","alert","catch","error","message","Read","valor","al","aluno0","styles","container","viewTitle","title","viewInput","input","value","viewInput2","input2","btnAdd","btnAddTxt","alunosCad","viewRodape","flexDirection","marginLeft","fontSize","fontWeight","width","borderBottomWidth","justifyContent","marginTop","marginRight","viewBtnFinalizar","btnFinalizar","navigate","btnFinalizarTxt","StyleSheet","create","flex","backgroundColor","alignItems","borderBottomColor","color","marginBottom","height","borderRadius","margin","textAlign"],"mappings":"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","sourcesContent":["import React,{useContext,useState,useEffect} from 'react';\r\nimport { View, Text, StyleSheet,TextInput, TouchableOpacity, FlatList } from 'react-native';\r\n\r\nimport {AlunoModel} from '../AlunoModel';\r\n\r\nimport * as Animatable from 'react-native-animatable';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { AuthContext } from '../../../contexts/auth'\r\n\r\nimport { db } from '../../../BancoNoSql/conexaoFirebase';\r\nimport { ref, set, onValue } from 'firebase/database';\r\n\r\nexport default function InserirAluno({route}) {\r\n    var cont =0;\r\n    const navigation = useNavigation();\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const [userId, setUserId]=useState(user.userId+'/');\r\n\r\n    const [nomeGrupo, setNomeGrupo] = useState(route.params.nomeGrupo+'/');\r\n\r\n    const [contador,setContador] = useState(0);\r\n    const [aluno,setAluno] = useState('aluno');\r\n\r\n    const [nome,setNome] = useState('');\r\n    const [idade,setIdade] = useState('');\r\n\r\n    const [nomeRecebido, setNomeRecebido]=useState('');\r\n\r\n    const [dataAlunos, setDataAlunos] = useState([]);\r\n\r\n    const dataFire =[\r\n        { nome: \"hugo\", idade:'2' },\r\n        { nome: \"kathelly\", idade:'3' }];\r\n\r\n        useEffect(() => {\r\n            \r\n         const myDoc = ref(db,userId + nomeGrupo);\r\n                \r\n        \r\n                onValue(myDoc, (snapshot) => {\r\n                    const data = snapshot.val();\r\n                    \r\n                    setDataAlunos(data);\r\n                   // setNomeRecebido(data.nome);\r\n                    let dat =[];\r\n                    \r\n                    dataAlunos.forEach((item) => {\r\n                     dat.push(item.nome);\r\n                    })\r\n                    console.log(\"data: \"+dataAlunos);\r\n                    console.log(\"dat: \"+dat);\r\n                })\r\n        \r\n            \r\n            \r\n          \r\n        },[]);\r\n\r\n\r\n    function setarAlunoEmGrupo(){\r\n        setContador(contador+1);\r\n        console.log(\"contador: \"+contador);\r\n        cont = contador;\r\n        let alunoVal = (aluno+cont+'/');\r\n        console.log(alunoVal);\r\n        set(ref(db, userId + nomeGrupo + alunoVal ), {\r\n            nome: nome,\r\n            idade: idade\r\n\r\n        }).then(() => {\r\n            alert(\"deu certo!\")\r\n            \r\n            })\r\n          .catch((error) => {\r\n            alert(error.message)\r\n            alert(\"falhou\");\r\n            })\r\n    }\r\n\r\n    const Read = () => {\r\n        const myDoc = ref(db,userId + nomeGrupo);\r\n        \r\n\r\n        onValue(myDoc, (snapshot) => {\r\n            const data = snapshot.val();\r\n   \r\n            setNomeRecebido(data.nome);\r\n            let valor = data;\r\n            let al ='aluno0/'\r\n            console.log(\"estado: \"+nomeRecebido);\r\n            console.log(\"let: \"+valor.aluno0.nome);\r\n        })\r\n\r\n       \r\n    }\r\n\r\n  \r\n\r\n return (\r\n   <View style={styles.container}>\r\n       < Animatable.View animation=\"fadeInLeft\"  style={styles.viewTitle}>\r\n           <Text style={styles.title}>Criar Grupo</Text>\r\n       </Animatable.View>\r\n\r\n       <View style={styles.viewInput}>\r\n           <TextInput\r\n           placeholder='Digite o nome do Aluno'\r\n           style={styles.input}\r\n           value={nome}\r\n           onChangeText={(value) => setNome(value)}\r\n           />\r\n\r\n       </View>\r\n       <View style={styles.viewInput2}>\r\n            <TextInput\r\n                placeholder='Idade'\r\n                style={styles.input2}\r\n                value={idade}\r\n                onChangeText={(value) => setIdade(value)}\r\n                />\r\n\r\n            <TouchableOpacity style={styles.btnAdd}\r\n             onPress={() => Read()}\r\n            >\r\n                <Text style={styles.btnAddTxt}>Adicionar</Text>\r\n            </TouchableOpacity>\r\n       </View>\r\n\r\n       <Text style={styles.alunosCad}>Alunos Cadastrados</Text>\r\n        \r\n       < Animatable.View animation=\"zoomIn\" style={styles.viewRodape}>\r\n         <View>{/*√© preciso otimizar esse flatlist*/}\r\n             <View style={{flexDirection:'row'}}>\r\n             <Text style={{marginLeft:\"3%\", fontSize:18, fontWeight:'bold',width:\"70%\",borderBottomWidth:1}}>Nome</Text>\r\n             <Text style={{marginLeft:\"3%\", fontSize:18, fontWeight:'bold',width:\"20%\",borderBottomWidth:1}}>Idade</Text>\r\n             </View>\r\n             <FlatList\r\n                data={dataFire}\r\n                renderItem={ ({item}) => \r\n                            <View style={{flexDirection:'row', justifyContent:'space-between'}}>\r\n                            <Text style={{marginLeft:'3%',marginTop:5, fontSize: 16}}>{item.nome}</Text>\r\n                            <Text style={{marginRight:'14%',marginTop:5, fontSize: 17, fontWeight:'bold'}}>{item.idade}</Text>\r\n                            </View>}\r\n                keyExtractor={(item) => item.nome}\r\n             />\r\n         </View>\r\n        \r\n       </Animatable.View>\r\n\r\n       <Animatable.View animation=\"lightSpeedIn\" style={styles.viewBtnFinalizar}>\r\n             <TouchableOpacity style={styles.btnFinalizar} onPress={() => navigation.navigate('PainelControle')}>\r\n                 <Text style={styles.btnFinalizarTxt}>Finalizar</Text>\r\n             </TouchableOpacity>\r\n         </Animatable.View>\r\n        \r\n\r\n   </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container:{\r\n     flex:1,\r\n     backgroundColor:'#38a69d',\r\n    },\r\n    viewInput:{\r\n        marginTop:'-20%',\r\n        alignItems:'center',\r\n    },\r\n    viewInput2:{\r\n        \r\n        marginLeft:'13%',\r\n        marginTop:10,\r\n        flexDirection:'row'\r\n    },\r\n    input:{\r\n        borderBottomWidth:1,\r\n        borderBottomColor:'#fff',\r\n        width:'75%',\r\n        color:'#fff',\r\n        fontSize:16,\r\n        fontWeight:'bold'\r\n    },\r\n    input2:{\r\n        borderBottomWidth:1,\r\n        borderBottomColor:'#fff',\r\n        width:'20%' ,\r\n        marginBottom:5,\r\n        color:'#fff',\r\n        fontSize:16,\r\n        fontWeight:'bold'\r\n    },\r\n    btnAdd:{\r\n        backgroundColor:'#fff',\r\n        width:'50%',\r\n        height: 40,\r\n        borderRadius:10,\r\n        alignItems:'center',\r\n        justifyContent:'center',\r\n        marginLeft:50,\r\n        marginTop:10\r\n    },\r\n    btnAddTxt:{\r\n        fontSize:18,\r\n        color:'#38a69d',\r\n        fontWeight:'bold'\r\n    },\r\n    viewTitle:{\r\n        flex:1,\r\n        marginTop:'10%',\r\n        alignItems:'center'\r\n       \r\n    },\r\n    title:{\r\n        fontSize:28,\r\n        fontWeight:'bold',\r\n        color:'#fff'\r\n    },\r\n    viewRodape:{\r\n        flex:2,\r\n        backgroundColor:'#fff',\r\n        borderRadius:10,\r\n        margin:'5%'\r\n    },\r\n    viewBtnFinalizar:{\r\n        marginTop:5,\r\n        marginBottom:'10%',\r\n        alignItems:'center'\r\n    },\r\n    btnFinalizar:{\r\n        backgroundColor:'#fff',\r\n        width:'75%',\r\n        height:40,\r\n        borderRadius:10,\r\n        alignItems:'center',\r\n        justifyContent:'center'\r\n    },\r\n    btnFinalizarTxt:{\r\n        fontSize:18,\r\n        fontWeight:'bold',\r\n        color:'#38a69d'\r\n    },\r\n    alunosCad:{\r\n        textAlign:'center',\r\n        marginTop:'5%',\r\n        marginBottom:-15,\r\n        fontSize:16,\r\n        color:'#fff',\r\n        fontWeight:'bold'\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}